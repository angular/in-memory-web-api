{"version":3,"file":"http-in-memory-web-api.module.js","sourceRoot":"","sources":["http-in-memory-web-api.module.ts"],"names":[],"mappings":"AAAA,6BAA6B;;;;;;;AAE7B,OAAO,EAAE,QAAQ,EAAE,QAAQ,EAA6B,MAAM,eAAe,CAAC;AAC9E,OAAO,EAAE,UAAU,EAAE,MAAM,eAAe,CAAC;AAE3C,OAAO,EAEL,qBAAqB,EACrB,iBAAiB,EAClB,MAAM,cAAc,CAAC;AAEtB,OAAO,EAAE,kBAAkB,EAAE,MAAY,wBAAwB,CAAC;AAElE,4DAA4D;AAC5D,sCAAsC;AACtC,MAAM,UAAU,8BAA8B,CAC5C,QAAkB,EAClB,SAA4B,EAC5B,OAA8B;IAE9B,IAAM,OAAO,GAAQ,IAAI,kBAAkB,CAAC,QAAQ,EAAE,SAAS,EAAE,OAAO,CAAC,CAAC;IAC1E,OAAO,OAAqB,CAAC;AAC/B,CAAC;AAGD;IAAA;IAsCA,CAAC;iCAtCY,wBAAwB;IACnC;;;;;;;;;;;;;;MAcE;IACK,gCAAO,GAAd,UAAe,SAAkC,EAAE,OAAmC;QACpF,OAAO;YACL,QAAQ,EAAE,0BAAwB;YAClC,SAAS,EAAE;gBACT,EAAE,OAAO,EAAE,iBAAiB,EAAG,QAAQ,EAAE,SAAS,EAAE;gBACpD,EAAE,OAAO,EAAE,qBAAqB,EAAE,QAAQ,EAAE,OAAO,EAAE;gBAErD,EAAE,OAAO,EAAE,UAAU;oBACnB,UAAU,EAAE,8BAA8B;oBAC1C,IAAI,EAAE,CAAC,QAAQ,EAAE,iBAAiB,EAAE,qBAAqB,CAAC,EAAC;aAC9D;SACF,CAAC;IACJ,CAAC;IACC;;;;;KAKC;IACI,mCAAU,GAAjB,UAAkB,SAAkC,EAAE,OAAmC;QACvF,OAAO,0BAAwB,CAAC,OAAO,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IAC9D,CAAC;;IArCU,wBAAwB;QADpC,QAAQ,CAAC,EAAE,CAAC;OACA,wBAAwB,CAsCpC;IAAD,+BAAC;CAAA,AAtCD,IAsCC;SAtCY,wBAAwB","sourcesContent":["////// Http-Only version ////\n\nimport { Injector, NgModule, ModuleWithProviders, Type } from '@angular/core';\nimport { XHRBackend } from '@angular/http';\n\nimport {\n  InMemoryBackendConfigArgs,\n  InMemoryBackendConfig,\n  InMemoryDbService\n} from './interfaces';\n\nimport { HttpBackendService }       from './http-backend.service';\n\n// Internal - Creates the in-mem backend for the Http module\n// AoT requires factory to be exported\nexport function httpInMemBackendServiceFactory(\n  injector: Injector,\n  dbService: InMemoryDbService,\n  options: InMemoryBackendConfig\n): XHRBackend {\n  const backend: any = new HttpBackendService(injector, dbService, options);\n  return backend as XHRBackend;\n}\n\n@NgModule({})\nexport class HttpInMemoryWebApiModule {\n  /**\n  *  Redirect the Angular `Http` XHR calls\n  *  to in-memory data store that implements `InMemoryDbService`.\n  *  with class that implements InMemoryDbService and creates an in-memory database.\n  *\n  *  Usually imported in the root application module.\n  *  Can import in a lazy feature module too, which will shadow modules loaded earlier\n  *\n  * @param {Type} dbCreator - Class that creates seed data for in-memory database. Must implement InMemoryDbService.\n  * @param {InMemoryBackendConfigArgs} [options]\n  *\n  * @example\n  * HttpInMemoryWebApiModule.forRoot(dbCreator);\n  * HttpInMemoryWebApiModule.forRoot(dbCreator, {useValue: {delay:600}});\n  */\n  static forRoot(dbCreator: Type<InMemoryDbService>, options?: InMemoryBackendConfigArgs): ModuleWithProviders {\n    return {\n      ngModule: HttpInMemoryWebApiModule,\n      providers: [\n        { provide: InMemoryDbService,  useClass: dbCreator },\n        { provide: InMemoryBackendConfig, useValue: options },\n\n        { provide: XHRBackend,\n          useFactory: httpInMemBackendServiceFactory,\n          deps: [Injector, InMemoryDbService, InMemoryBackendConfig]}\n      ]\n    };\n  }\n    /**\n   *\n   * Enable and configure the in-memory web api in a lazy-loaded feature module.\n   * Same as `forRoot`.\n   * This is a feel-good method so you can follow the Angular style guide for lazy-loaded modules.\n   */\n  static forFeature(dbCreator: Type<InMemoryDbService>, options?: InMemoryBackendConfigArgs): ModuleWithProviders {\n    return HttpInMemoryWebApiModule.forRoot(dbCreator, options);\n  }\n}\n"]}